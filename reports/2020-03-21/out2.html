<!DOCTYPE html>

<html>
    <head>
        <style>
         .pixelated {
             image-rendering:optimizeSpeed;             /* Legal fallback */
             image-rendering:-moz-crisp-edges;          /* Firefox        */
             image-rendering:-o-crisp-edges;            /* Opera          */
             image-rendering:-webkit-optimize-contrast; /* Safari         */
             image-rendering:optimize-contrast;         /* CSS3 Proposed  */
             image-rendering:crisp-edges;               /* CSS4 Proposed  */
             image-rendering:pixelated;                 /* CSS4 Proposed  */
             -ms-interpolation-mode:nearest-neighbor;   /* IE8+           */
         }
         input {
             width: 300px;
         }
        </style>
    </head>

    <img width=300 class="pixelated" id="img">

    <br>

    <span class="label">max_count:</span>
    <span class="range">0</span>
    <br>
    <input id="slider_0" class="slider" type="range" min="0" max="2" value="0" step="1" oninput="showVal()"/>
    <br>

    <span class="label">background_noise:</span>
    <span class="range">0</span>
    <br>
    <input id="slider_1" class="slider" type="range" min="0" max="4" value="3" step="1" oninput="showVal()"/>
    <br>

    <span class="label">drift_velocity:</span>
    <span class="range">0</span>
    <br>
    <input id="slider_2" class="slider" type="range" min="0" max="3" value="2" step="1" oninput="showVal()"/>
    <br>


    <span class="label">snr_db:</span>
    <span class="indicator"></span>
    <br>

    <span class="label">true_drift:</span>
    <span class="indicator"></span>
    <br>

    <span class="label">est_drift:</span>
    <span class="indicator"></span>
    <br>


    <script defer>
     var sliders = Array.from(document.getElementsByClassName("slider"));
     var ranges = Array.from(document.getElementsByClassName("range"));
     var indicators = Array.from(document.getElementsByClassName("indicator"));

     function update() {
         var slider_vals = [['20', '40', '80'], ['0', '2', '4', '8', '16'], ['0.05', '0.1', '0.2', '0.4']];
         var indicator_vals = {'000': ['-4.890972627820716', '[ 0.63134534 -0.63134534]', '[ 0.63854509 -0.59881764]'], '001': ['-4.9664621083052705', '[ 1.26269068 -1.26269068]', '[ 1.25764324 -1.23680626]'], '002': ['-5.055948176836167', '[ 2.52538136 -2.52538136]', '[ 2.51803186 -2.54570014]'], '003': ['-5.259565778398652', '[ 5.05076272 -5.05076272]', '[ 5.06352262 -5.08619915]'], '010': ['-6.154020256920136', '[ 0.63134534 -0.63134534]', '[ 0.6441155 -0.6300643]'], '011': ['-6.226423320372774', '[ 1.26269068 -1.26269068]', '[ 1.25581565 -1.22382304]'], '012': ['-6.296315343486119', '[ 2.52538136 -2.52538136]', '[ 2.51299972 -2.51950669]'], '013': ['-6.457761449320687', '[ 5.05076272 -5.05076272]', '[ 5.03373201 -5.08075733]'], '020': ['-7.328253466247591', '[ 0.63134534 -0.63134534]', '[ 0.62971778 -0.62174908]'], '021': ['-7.38182899119602', '[ 1.26269068 -1.26269068]', '[ 1.26281081 -1.21158179]'], '022': ['-7.44483661172956', '[ 2.52538136 -2.52538136]', '[ 2.52671807 -2.4120899 ]'], '023': ['-7.580760612323131', '[ 5.05076272 -5.05076272]', '[ 5.06009218 -5.00151294]'], '030': ['-9.378530821345835', '[ 0.63134534 -0.63134534]', '[ 0.62573883 -0.60033001]'], '031': ['-9.43524131197459', '[ 1.26269068 -1.26269068]', '[ 1.25776273 -1.2891175 ]'], '032': ['-9.472078332869868', '[ 2.52538136 -2.52538136]', '[ 2.52095249 -2.43442276]'], '033': ['-9.561692399280318', '[ 5.05076272 -5.05076272]', '[ 5.03650925 -4.98180199]'], '040': ['-12.544296761912346', '[ 0.63134534 -0.63134534]', '[ 0.63581565 -0.60943158]'], '041': ['-12.585455188676644', '[ 1.26269068 -1.26269068]', '[ 1.24948222 -1.22443357]'], '042': ['-12.60605311439402', '[ 2.52538136 -2.52538136]', '[ 2.5273872  -2.51567966]'], '043': ['-12.676327045472943', '[ 5.05076272 -5.05076272]', '[ 5.05309132 -5.07445917]'], '100': ['1.1093278706822611', '[ 0.63134534 -0.63134534]', '[ 0.63037383 -0.59710384]'], '101': ['1.0365107410821186', '[ 1.26269068 -1.26269068]', '[ 1.26042731 -1.23760114]'], '102': ['0.9469046531752329', '[ 2.52538136 -2.52538136]', '[ 2.51139175 -2.51911465]'], '103': ['0.7433206926775151', '[ 5.05076272 -5.05076272]', '[ 5.03940825 -4.99609957]'], '110': ['-0.15668176304435572', '[ 0.63134534 -0.63134534]', '[ 0.63474367 -0.59713798]'], '111': ['-0.21454989519521833', '[ 1.26269068 -1.26269068]', '[ 1.26390555 -1.23699915]'], '112': ['-0.28898320437732206', '[ 2.52538136 -2.52538136]', '[ 2.51445121 -2.47402276]'], '113': ['-0.4507134687296282', '[ 5.05076272 -5.05076272]', '[ 5.04292347 -5.00893826]'], '120': ['-1.3251600562504753', '[ 0.63134534 -0.63134534]', '[ 0.63411038 -0.60775249]'], '121': ['-1.3839104173931982', '[ 1.26269068 -1.26269068]', '[ 1.24999431 -1.28037952]'], '122': ['-1.440797153571127', '[ 2.52538136 -2.52538136]', '[ 2.51598179 -2.49595277]'], '123': ['-1.567422343897043', '[ 5.05076272 -5.05076272]', '[ 5.05112831 -4.99906174]'], '130': ['-3.3597757579922547', '[ 0.63134534 -0.63134534]', '[ 0.61634367 -0.61106629]'], '131': ['-3.4212999444436387', '[ 1.26269068 -1.26269068]', '[ 1.25801195 -1.23969388]'], '132': ['-3.4546316733840343', '[ 2.52538136 -2.52538136]', '[ 2.52329445 -2.49404267]'], '133': ['-3.5507846503397253', '[ 5.05076272 -5.05076272]', '[ 5.04418834 -5.05142191]'], '140': ['-6.519119852350573', '[ 0.63134534 -0.63134534]', '[ 0.63093542 -0.60393514]'], '141': ['-6.575675843740484', '[ 1.26269068 -1.26269068]', '[ 1.26202105 -1.24754253]'], '142': ['-6.600604650222653', '[ 2.52538136 -2.52538136]', '[ 2.50841024 -2.47836188]'], '143': ['-6.66187422163061', '[ 5.05076272 -5.05076272]', '[ 5.04256387 -5.01963243]'], '200': ['7.0962408343965375', '[ 0.63134534 -0.63134534]', '[ 0.6300808  -0.61533485]'], '201': ['7.004731200220173', '[ 1.26269068 -1.26269068]', '[ 1.26337468 -1.25072945]'], '202': ['6.930288768561188', '[ 2.52538136 -2.52538136]', '[ 2.51965064 -2.50318805]'], '203': ['6.706676742947888', '[ 5.05076272 -5.05076272]', '[ 5.0413798 -5.0259192]'], '210': ['5.836031682419321', '[ 0.63134534 -0.63134534]', '[ 0.62748962 -0.62957383]'], '211': ['5.7709086602124104', '[ 1.26269068 -1.26269068]', '[ 1.26061849 -1.24973826]'], '212': ['5.699588351001685', '[ 2.52538136 -2.52538136]', '[ 2.52531266 -2.52241138]'], '213': ['5.521519336151504', '[ 5.05076272 -5.05076272]', '[ 5.05342475 -5.00923812]'], '220': ['4.673992042182767', '[ 0.63134534 -0.63134534]', '[ 0.63069246 -0.61447795]'], '221': ['4.613268741206972', '[ 1.26269068 -1.26269068]', '[ 1.25850128 -1.24261963]'], '222': ['4.5556209950374305', '[ 2.52538136 -2.52538136]', '[ 2.51873514 -2.49313969]'], '223': ['4.421148334741062', '[ 5.05076272 -5.05076272]', '[ 5.0406128  -5.00473514]'], '230': ['2.6353896201532887', '[ 0.63134534 -0.63134534]', '[ 0.63570242 -0.61561878]'], '231': ['2.5811842959424913', '[ 1.26269068 -1.26269068]', '[ 1.25614794 -1.24312603]'], '232': ['2.5495374108196485', '[ 2.52538136 -2.52538136]', '[ 2.51530469 -2.48996188]'], '233': ['2.448702142920896', '[ 5.05076272 -5.05076272]', '[ 5.05028222 -5.01889844]'], '240': ['-0.5154835046039123', '[ 0.63134534 -0.63134534]', '[ 0.63105718 -0.6341064 ]'], '241': ['-0.5616159176341562', '[ 1.26269068 -1.26269068]', '[ 1.26174168 -1.23909644]'], '242': ['-0.5775168153178399', '[ 2.52538136 -2.52538136]', '[ 2.51990725 -2.4978606 ]'], '243': ['-0.6514546195994011', '[ 5.05076272 -5.05076272]', '[ 5.03690583 -5.03349986]']};
         var slider_positions = sliders.map(e => {return e.value})
         var index = slider_positions.join("")
         var filename = index + ".bmp"
         slider_positions.forEach(function(pos, i){
             ranges[i].innerHTML = slider_vals[i][pos];
         });
         indicators.forEach(function(ind, i){
             ind.innerHTML = indicator_vals[index][i];
         });
         document.getElementById("img").src = "out2/" + filename;
         console.log(filename);
     };

     function showVal(newVal) {
         update();
     };

     update();

    </script>

</html>
