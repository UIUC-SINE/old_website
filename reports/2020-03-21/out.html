<!DOCTYPE html>

<html>
    <head>
        <style>
         .pixelated {
             image-rendering:optimizeSpeed;             /* Legal fallback */
             image-rendering:-moz-crisp-edges;          /* Firefox        */
             image-rendering:-o-crisp-edges;            /* Opera          */
             image-rendering:-webkit-optimize-contrast; /* Safari         */
             image-rendering:optimize-contrast;         /* CSS3 Proposed  */
             image-rendering:crisp-edges;               /* CSS4 Proposed  */
             image-rendering:pixelated;                 /* CSS4 Proposed  */
             -ms-interpolation-mode:nearest-neighbor;   /* IE8+           */
         }
         input {
             width: 300px;
         }
        </style>
    </head>

    <img width=300 class="pixelated" id="img">

    <br>

    <span class="label">max_count:</span>
    <span class="range">0</span>
    <br>
    <input id="slider_0" class="slider" type="range" min="0" max="2" value="0" step="1" oninput="showVal()"/>
    <br>

    <span class="label">background_noise:</span>
    <span class="range">0</span>
    <br>
    <input id="slider_1" class="slider" type="range" min="0" max="4" value="3" step="1" oninput="showVal()"/>
    <br>

    <span class="label">drift_velocity:</span>
    <span class="range">0</span>
    <br>
    <input id="slider_2" class="slider" type="range" min="0" max="3" value="2" step="1" oninput="showVal()"/>
    <br>


    <span class="label">snr_db:</span>
    <span class="indicator"></span>
    <br>

    <span class="label">true_drift:</span>
    <span class="indicator"></span>
    <br>

    <span class="label">est_drift:</span>
    <span class="indicator"></span>
    <br>


    <script defer>
     var sliders = Array.from(document.getElementsByClassName("slider"));
     var ranges = Array.from(document.getElementsByClassName("range"));
     var indicators = Array.from(document.getElementsByClassName("indicator"));

     function update() {
         var slider_vals = [['20', '40', '80'], ['0', '2', '4', '8', '16'], ['0.05', '0.1', '0.2', '0.4']];
         var indicator_vals = {'000': ['7.1154342388001135', '[ 0.63134534 -0.63134534]', '[ 0.62314651 -0.60459061]'], '001': ['7.074889438982553', '[ 1.26269068 -1.26269068]', '[ 1.25775989 -1.24697809]'], '002': ['7.2435597559867935', '[ 2.52538136 -2.52538136]', '[ 2.51591977 -2.49154651]'], '003': ['7.625595889748934', '[ 5.05076272 -5.05076272]', '[ 5.04501792 -5.00994538]'], '010': ['5.841414920646233', '[ 0.63134534 -0.63134534]', '[ 0.62849104 -0.61439659]'], '011': ['5.838747377069382', '[ 1.26269068 -1.26269068]', '[ 1.25891437 -1.24107767]'], '012': ['6.02494246805432', '[ 2.52538136 -2.52538136]', '[ 2.5200256  -2.49255704]'], '013': ['6.443962811509486', '[ 5.05076272 -5.05076272]', '[ 5.04120626 -5.04034424]'], '020': ['4.70345563887348', '[ 0.63134534 -0.63134534]', '[ 0.62097297 -0.62335021]'], '021': ['4.678228822984659', '[ 1.26269068 -1.26269068]', '[ 1.25691721 -1.23445462]'], '022': ['4.888208381344535', '[ 2.52538136 -2.52538136]', '[ 2.51493713 -2.48583556]'], '023': ['5.3329717724388175', '[ 5.05076272 -5.05076272]', '[ 5.04553969 -5.0169542 ]'], '030': ['2.6595914543423387', '[ 0.63134534 -0.63134534]', '[ 0.63045121 -0.6169155 ]'], '031': ['2.65758827669531', '[ 1.26269068 -1.26269068]', '[ 1.25331323 -1.25516131]'], '032': ['2.883881513743348', '[ 2.52538136 -2.52538136]', '[ 2.5121064 -2.4945468]'], '033': ['3.3688880800391448', '[ 5.05076272 -5.05076272]', '[ 5.0429633  -5.01538777]'], '040': ['-0.49182447532455154', '[ 0.63134534 -0.63134534]', '[ 0.62466117 -0.62371721]'], '041': ['-0.4901572576347182', '[ 1.26269068 -1.26269068]', '[ 1.25792034 -1.23169218]'], '042': ['-0.2530269617444848', '[ 2.52538136 -2.52538136]', '[ 2.52368706 -2.49493826]'], '043': ['0.2692228727196484', '[ 5.05076272 -5.05076272]', '[ 5.04736728 -5.00449161]'], '100': ['13.048151283544318', '[ 0.63134534 -0.63134534]', '[ 0.63420654 -0.61917553]'], '101': ['13.029750916317703', '[ 1.26269068 -1.26269068]', '[ 1.25353286 -1.24052233]'], '102': ['13.187288557177887', '[ 2.52538136 -2.52538136]', '[ 2.52430839 -2.50781451]'], '103': ['13.553705544437252', '[ 5.05076272 -5.05076272]', '[ 5.03761878 -5.00976956]'], '110': ['11.811413743132437', '[ 0.63134534 -0.63134534]', '[ 0.62949986 -0.62415989]'], '111': ['11.790278506567331', '[ 1.26269068 -1.26269068]', '[ 1.25305434 -1.24289502]'], '112': ['11.97440487513392', '[ 2.52538136 -2.52538136]', '[ 2.52407283 -2.49583841]'], '113': ['12.403038942904098', '[ 5.05076272 -5.05076272]', '[ 5.03709644 -5.00558236]'], '120': ['10.656934267563729', '[ 0.63134534 -0.63134534]', '[ 0.63021963 -0.6244825 ]'], '121': ['10.654650431666717', '[ 1.26269068 -1.26269068]', '[ 1.25723016 -1.24958407]'], '122': ['10.854292527065985', '[ 2.52538136 -2.52538136]', '[ 2.51925462 -2.50470555]'], '123': ['11.294564903083904', '[ 5.05076272 -5.05076272]', '[ 5.03387767 -5.01510498]'], '130': ['8.642942821194048', '[ 0.63134534 -0.63134534]', '[ 0.63353457 -0.60868279]'], '131': ['8.6458323849191', '[ 1.26269068 -1.26269068]', '[ 1.26056842 -1.25086771]'], '132': ['8.867012465428866', '[ 2.52538136 -2.52538136]', '[ 2.52015875 -2.49453485]'], '133': ['9.355324777644975', '[ 5.05076272 -5.05076272]', '[ 5.03696842 -5.0167175 ]'], '140': ['5.507170862065401', '[ 0.63134534 -0.63134534]', '[ 0.63950555 -0.61296785]'], '141': ['5.51897072029425', '[ 1.26269068 -1.26269068]', '[ 1.25849331 -1.25991636]'], '142': ['5.749829606667277', '[ 2.52538136 -2.52538136]', '[ 2.51875164 -2.50339232]'], '143': ['6.282590521682739', '[ 5.05076272 -5.05076272]', '[ 5.03203357 -5.01362105]'], '200': ['18.899840978663715', '[ 0.63134534 -0.63134534]', '[ 0.63131607 -0.62829189]'], '201': ['18.8694822439533', '[ 1.26269068 -1.26269068]', '[ 1.25714879 -1.24749474]'], '202': ['19.034097291271564', '[ 2.52538136 -2.52538136]', '[ 2.52141223 -2.49509189]'], '203': ['19.375936130899593', '[ 5.05076272 -5.05076272]', '[ 5.03194651 -5.01431124]'], '210': ['17.70398918888504', '[ 0.63134534 -0.63134534]', '[ 0.63506913 -0.62461622]'], '211': ['17.690281846553788', '[ 1.26269068 -1.26269068]', '[ 1.25856159 -1.24317895]'], '212': ['17.862798879565528', '[ 2.52538136 -2.52538136]', '[ 2.52178834 -2.50049331]'], '213': ['18.258066830030685', '[ 5.05076272 -5.05076272]', '[ 5.02962617 -5.0178458 ]'], '220': ['16.59047690369283', '[ 0.63134534 -0.63134534]', '[ 0.62905889 -0.62318464]'], '221': ['16.578473424419983', '[ 1.26269068 -1.26269068]', '[ 1.2588404  -1.24552945]'], '222': ['16.773129323075505', '[ 2.52538136 -2.52538136]', '[ 2.5207101  -2.49556586]'], '223': ['17.19644249310953', '[ 5.05076272 -5.05076272]', '[ 5.03469417 -5.0173064 ]'], '230': ['14.608482739626938', '[ 0.63134534 -0.63134534]', '[ 0.63149417 -0.62377297]'], '231': ['14.604367121123033', '[ 1.26269068 -1.26269068]', '[ 1.25907482 -1.24784296]'], '232': ['14.826420406001679', '[ 2.52538136 -2.52538136]', '[ 2.52340256 -2.49276245]'], '233': ['15.290458982055767', '[ 5.05076272 -5.05076272]', '[ 5.03221849 -5.00665775]'], '240': ['11.4984528644254', '[ 0.63134534 -0.63134534]', '[ 0.63227425 -0.63347312]'], '241': ['11.505645261617463', '[ 1.26269068 -1.26269068]', '[ 1.25756586 -1.24448364]'], '242': ['11.739323265968611', '[ 2.52538136 -2.52538136]', '[ 2.51921764 -2.49950782]'], '243': ['12.262836229409128', '[ 5.05076272 -5.05076272]', '[ 5.03140825 -5.00555391]']};
         var slider_positions = sliders.map(e => {return e.value})
         var index = slider_positions.join("")
         var filename = index + ".bmp"
         slider_positions.forEach(function(pos, i){
             ranges[i].innerHTML = slider_vals[i][pos];
         });
         indicators.forEach(function(ind, i){
             ind.innerHTML = indicator_vals[index][i];
         });
         document.getElementById("img").src = "out/" + filename;
         console.log(filename);
     };

     function showVal(newVal) {
         update();
     };

     update();

    </script>

</html>
