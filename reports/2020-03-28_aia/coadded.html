<!DOCTYPE html>

<html>
    <head>
        <style>
         .pixelated {
             image-rendering:optimizeSpeed;             /* Legal fallback */
             image-rendering:-moz-crisp-edges;          /* Firefox        */
             image-rendering:-o-crisp-edges;            /* Opera          */
             image-rendering:-webkit-optimize-contrast; /* Safari         */
             image-rendering:optimize-contrast;         /* CSS3 Proposed  */
             image-rendering:crisp-edges;               /* CSS4 Proposed  */
             image-rendering:pixelated;                 /* CSS4 Proposed  */
             -ms-interpolation-mode:nearest-neighbor;   /* IE8+           */
         }
         input {
             width: 300px;
         }
        </style>
    </head>

    <img width=300 class="pixelated" id="img">

    <br>

    <span class="label">max_count:</span>
    <span class="range">0</span>
    <br>
    <input id="slider_0" class="slider" type="range" min="0" max="0" value="0" step="1" oninput="showVal()"/>
    <br>

    <span class="label">background_noise:</span>
    <span class="range">0</span>
    <br>
    <input id="slider_1" class="slider" type="range" min="0" max="0" value="2" step="1" oninput="showVal()"/>
    <br>

    <span class="label">drift_velocity:</span>
    <span class="range">0</span>
    <br>
    <input id="slider_2" class="slider" type="range" min="0" max="0" value="2" step="1" oninput="showVal()"/>
    <br>

    <span class="label">frame_rate:</span>
    <span class="range">0</span>
    <br>
    <input id="slider_3" class="slider" type="range" min="0" max="0" value="0" step="1" oninput="showVal()"/>
    <br>


    <span class="label">true_drift:</span>
    <span class="indicator"></span>
    <br>

    <span class="label">est_drift:</span>
    <span class="indicator"></span>
    <br>


    <script defer>
     var sliders = Array.from(document.getElementsByClassName("slider"));
     var ranges = Array.from(document.getElementsByClassName("range"));
     var indicators = Array.from(document.getElementsByClassName("indicator"));

     function update() {
         var slider_vals = [['80'], ['100'], ['0.2'], ['4']];
         var indicator_vals = {'0000': ['[ 2.52538136 -2.52538136]', '[ 1.3670936  -0.00347312]']};
         var slider_positions = sliders.map(e => {return e.value})
         var index = slider_positions.join("")
         var filename = index + ".bmp"
         slider_positions.forEach(function(pos, i){
             ranges[i].innerHTML = slider_vals[i][pos];
         });
         indicators.forEach(function(ind, i){
             ind.innerHTML = indicator_vals[index][i];
         });
         document.getElementById("img").src = "coadded/" + filename;
         console.log(filename);
     };

     function showVal(newVal) {
         update();
     };

     update();

    </script>

</html>
