<!DOCTYPE html>

<html>
    <head>
        <style>
         .pixelated {
             image-rendering:optimizeSpeed;             /* Legal fallback */
             image-rendering:-moz-crisp-edges;          /* Firefox        */
             image-rendering:-o-crisp-edges;            /* Opera          */
             image-rendering:-webkit-optimize-contrast; /* Safari         */
             image-rendering:optimize-contrast;         /* CSS3 Proposed  */
             image-rendering:crisp-edges;               /* CSS4 Proposed  */
             image-rendering:pixelated;                 /* CSS4 Proposed  */
             -ms-interpolation-mode:nearest-neighbor;   /* IE8+           */
         }
         input {
             width: 300px;
         }
        </style>
    </head>

    <img width=300 class="pixelated" id="img">

    <br>

    <span class="label">max_count:</span>
    <span class="range">0</span>
    <br>
    <input id="slider_0" class="slider" type="range" min="0" max="2" value="0" step="1" oninput="showVal()"/>
    <br>

    <span class="label">background_noise:</span>
    <span class="range">0</span>
    <br>
    <input id="slider_1" class="slider" type="range" min="0" max="4" value="3" step="1" oninput="showVal()"/>
    <br>

    <span class="label">drift_velocity:</span>
    <span class="range">0</span>
    <br>
    <input id="slider_2" class="slider" type="range" min="0" max="3" value="2" step="1" oninput="showVal()"/>
    <br>


    <span class="label">snr_db:</span>
    <span class="indicator"></span>
    <br>

    <span class="label">true_drift:</span>
    <span class="indicator"></span>
    <br>

    <span class="label">est_drift:</span>
    <span class="indicator"></span>
    <br>


    <script defer>
     var sliders = Array.from(document.getElementsByClassName("slider"));
     var ranges = Array.from(document.getElementsByClassName("range"));
     var indicators = Array.from(document.getElementsByClassName("indicator"));

     function update() {
         var slider_vals = [['20', '40', '80'], ['0', '2', '4', '8', '16'], ['0.05', '0.1', '0.2', '0.4']];
         var indicator_vals = {'000': ['-4.887200547950667', '[ 0.63134534 -0.63134534]', '[ 0.63291095 -0.55443755]'], '001': ['-4.9649661347444445', '[ 1.26269068 -1.26269068]', '[ 1.26219516 -1.27394424]'], '002': ['-5.053459987058298', '[ 2.52538136 -2.52538136]', '[ 2.50819516 -2.48939175]'], '003': ['-5.265437718549483', '[ 5.05076272 -5.05076272]', '[ 5.04640114 -5.14831294]'], '010': ['-6.1566009310483345', '[ 0.63134534 -0.63134534]', '[ 0.63464637 -0.63865434]'], '011': ['-6.219212537970828', '[ 1.26269068 -1.26269068]', '[ 1.25622817 -1.2315266 ]'], '012': ['-6.299977543058164', '[ 2.52538136 -2.52538136]', '[ 2.53298265 -2.53917895]'], '013': ['-6.463513591510752', '[ 5.05076272 -5.05076272]', '[ 5.03876814 -5.10915562]'], '020': ['-7.33428003724282', '[ 0.63134534 -0.63134534]', '[ 0.63107539 -0.62229758]'], '021': ['-7.39889587244569', '[ 1.26269068 -1.26269068]', '[ 1.25886942 -1.25824182]'], '022': ['-7.449573606910665', '[ 2.52538136 -2.52538136]', '[ 2.52432432 -2.48595505]'], '023': ['-7.582825324980542', '[ 5.05076272 -5.05076272]', '[ 5.04434822 -4.96233229]'], '030': ['-9.37418736442973', '[ 0.63134534 -0.63134534]', '[ 0.63158407 -0.59338435]'], '031': ['-9.431158818519632', '[ 1.26269068 -1.26269068]', '[ 1.25978094 -1.24763926]'], '032': ['-9.46910141832825', '[ 2.52538136 -2.52538136]', '[ 2.53011038 -2.53407511]'], '033': ['-9.562011671925676', '[ 5.05076272 -5.05076272]', '[ 5.06095192 -5.03431465]'], '040': ['-12.54215651828094', '[ 0.63134534 -0.63134534]', '[ 0.62952205 -0.60353286]'], '041': ['-12.586238839213733', '[ 1.26269068 -1.26269068]', '[ 1.2675431 -1.2443522]'], '042': ['-12.61016040575826', '[ 2.52538136 -2.52538136]', '[ 2.51929559 -2.51595448]'], '043': ['-12.677335490033865', '[ 5.05076272 -5.05076272]', '[ 5.04211266 -5.01709758]'], '100': ['1.1287533153356448', '[ 0.63134534 -0.63134534]', '[ 0.6313377  -0.61338094]'], '101': ['1.0350531842676243', '[ 1.26269068 -1.26269068]', '[ 1.25795846 -1.26961935]'], '102': ['0.9449427986970987', '[ 2.52538136 -2.52538136]', '[ 2.51680341 -2.50958748]'], '103': ['0.7392556187573185', '[ 5.05076272 -5.05076272]', '[ 5.04340541 -5.03155164]'], '110': ['-0.1614126407033309', '[ 0.63134534 -0.63134534]', '[ 0.63363129 -0.59592148]'], '111': ['-0.22066704081579658', '[ 1.26269068 -1.26269068]', '[ 1.26163471 -1.23024125]'], '112': ['-0.2796774621389095', '[ 2.52538136 -2.52538136]', '[ 2.52705036 -2.49702191]'], '113': ['-0.46516007206872867', '[ 5.05076272 -5.05076272]', '[ 5.03909417 -5.01290697]'], '120': ['-1.3148879137595375', '[ 0.63134534 -0.63134534]', '[ 0.63394026 -0.61131209]'], '121': ['-1.3803660810363725', '[ 1.26269068 -1.26269068]', '[ 1.25890242 -1.28545548]'], '122': ['-1.4340012794896182', '[ 2.52538136 -2.52538136]', '[ 2.51999431 -2.47325235]'], '123': ['-1.5722100865784248', '[ 5.05076272 -5.05076272]', '[ 5.04469189 -4.99927909]'], '130': ['-3.363885282202136', '[ 0.63134534 -0.63134534]', '[ 0.62476188 -0.62734111]'], '131': ['-3.4232547083762066', '[ 1.26269068 -1.26269068]', '[ 1.261266   -1.26768307]'], '132': ['-3.445474107695356', '[ 2.52538136 -2.52538136]', '[ 2.52622134 -2.51604836]'], '133': ['-3.5526133405262534', '[ 5.05076272 -5.05076272]', '[ 5.04138492 -5.00697127]'], '140': ['-6.5229261280817745', '[ 0.63134534 -0.63134534]', '[ 0.61978321 -0.60893201]'], '141': ['-6.572880451093711', '[ 1.26269068 -1.26269068]', '[ 1.25816387 -1.26309986]'], '142': ['-6.588103473960456', '[ 2.52538136 -2.52538136]', '[ 2.52005633 -2.48561479]'], '143': ['-6.649863103736502', '[ 5.05076272 -5.05076272]', '[ 5.04646999 -5.0297963 ]'], '200': ['7.096360050177527', '[ 0.63134534 -0.63134534]', '[ 0.63215932 -0.59978947]'], '201': ['7.0035755991325335', '[ 1.26269068 -1.26269068]', '[ 1.26236472 -1.2478532 ]'], '202': ['6.918253998376702', '[ 2.52538136 -2.52538136]', '[ 2.52152774 -2.50625946]'], '203': ['6.708178584020922', '[ 5.05076272 -5.05076272]', '[ 5.04833627 -5.038     ]'], '210': ['5.822328112184202', '[ 0.63134534 -0.63134534]', '[ 0.63410413 -0.61500882]'], '211': ['5.7736810366478375', '[ 1.26269068 -1.26269068]', '[ 1.25045974 -1.24229758]'], '212': ['5.6948410810225365', '[ 2.52538136 -2.52538136]', '[ 2.52349246 -2.49933713]'], '213': ['5.543715643366004', '[ 5.05076272 -5.05076272]', '[ 5.0413394  -5.01203983]'], '220': ['4.6698590842366325', '[ 0.63134534 -0.63134534]', '[ 0.62811038 -0.6084091 ]'], '221': ['4.6131214884144125', '[ 1.26269068 -1.26269068]', '[ 1.25787198 -1.23257468]'], '222': ['4.5496633378772415', '[ 2.52538136 -2.52538136]', '[ 2.51735533 -2.49628677]'], '223': ['4.41364044808003', '[ 5.05076272 -5.05076272]', '[ 5.04123243 -4.99881764]'], '230': ['2.643709315719342', '[ 0.63134534 -0.63134534]', '[ 0.62693713 -0.62264637]'], '231': ['2.584472490588117', '[ 1.26269068 -1.26269068]', '[ 1.25935647 -1.24535704]'], '232': ['2.5467778031481414', '[ 2.52538136 -2.52538136]', '[ 2.51761081 -2.49537354]'], '233': ['2.44855668431949', '[ 5.05076272 -5.05076272]', '[ 5.03749872 -4.99977183]'], '240': ['-0.5180427342029025', '[ 0.63134534 -0.63134534]', '[ 0.64052802 -0.62471636]'], '241': ['-0.5627706806385263', '[ 1.26269068 -1.26269068]', '[ 1.25596302 -1.2495431 ]'], '242': ['-0.581735685151354', '[ 2.52538136 -2.52538136]', '[ 2.51667141 -2.48813542]'], '243': ['-0.6451759273183473', '[ 5.05076272 -5.05076272]', '[ 5.03090071 -5.0046202 ]']};
         var slider_positions = sliders.map(e => {return e.value})
         var index = slider_positions.join("")
         var filename = index + ".bmp"
         slider_positions.forEach(function(pos, i){
             ranges[i].innerHTML = slider_vals[i][pos];
         });
         indicators.forEach(function(ind, i){
             ind.innerHTML = indicator_vals[index][i];
         });
         document.getElementById("img").src = "out/" + filename;
         console.log(filename);
     };

     function showVal(newVal) {
         update();
     };

     update();

    </script>

</html>
